<sequence xmlns="http://ws.apache.org/ns/synapse" name="WSO2AM--Ext--Out">
	<property name="RESPONSE_TIMESTAMP" expression="get-property('SYSTEM_TIME')"/>
	<class name="org.wso2telco.dep.nashornmediator.NashornMediator">
		<property name="script" value="
			var requestTimeStamp = mc.getProperty('REQUEST_TIMESTAMP');
			var responseTimeStamp = mc.getProperty('RESPONSE_TIMESTAMP');
			var responseTime = responseTimeStamp - requestTimeStamp;
			mc.setProperty('RESPONSE_TIME', responseTime);
		"/>
	</class>
        <!-- Values log level = full; enable payload loggin. log level=custom; disable payload loggin for the response -->
	<log level="custom">
		<property name="API Response Status" expression="$axis2:HTTP_SC"/>
		<property name="Request ID" expression="get-property('MESSAGE_ID')"/>
		<property name="Response Time(ms)" expression="$ctx:RESPONSE_TIME"/>
		<property name="API" expression="$ctx:API_NAME"/>
		<property name="Version" expression="get-property('SYNAPSE_REST_API_VERSION')"/>
		<property name="Application Name" expression="$ctx:api.ut.application.name"/>
		<property name="Application ID" expression="$ctx:api.ut.application.id"/>
		<property name="User Name" expression="$ctx:api.ut.userName"/>
	</log>
</sequence>
